import{_ as k,n as S,s as C,a as c,r as g,o as a,c as r,b as x,d as e,i as p,e as l,v as u,t as d,j as _,F as b,k as v,f,l as h,w as M,g as D,p as R,m as V}from"./index.33eb67fe.js";const E={name:"HomeBuy",components:{navbar:S,section6:C},data(){return{activetab:"1",monedas:[],cantidad:0,api_url:"https://bitcoyemen-api.novelsoft.com.co",from:"",to:"",fromText:"",toText:"",isActive:"",results:"",results_id:"",paymentDetails:"",image:null,imageUrl:null,message:"",active:""}},async created(){const s=await c.get("/api/v1/users/showMe");this.users=s.data},mounted(){this.getMonedas()},computed:{formatearMonedas(){return Object.values(this.monedas)},calcularResultado(){return this.cantidad*this.results.exchangeRate.receive/this.results.exchangeRate.send}},methods:{getFromText(s){console.log("from: ",s)},async getMonedas(){await c.get("/api/v1/currency").then(s=>{this.monedas=s.data,this.active=s.data.monedas.isActive})},calcularResultado(){return this.cantidad*this.results.exchangeRate.receive/this.results.exchangeRate.send},async get_direction(){await c.get("/api/v1/direction?",{params:{from:this.from,to:this.to}}).then(s=>{this.results=s.data,this.fromText=this.results.from.name,this.toText=this.results.to.name,this.message=""}).catch(s=>{this.message=s.response.data.msg,console.log(message)})},async convertirMoneda(){await c.get("/api/v1/direction?",{params:{from:this.from,to:this.to}}).then(s=>{this.results=s.data})},async amountSubmit(){let s=new FormData;s.append("from",this.from),s.append("to",this.to),s.append("amount",this.cantidad),this.from,this.to,this.cantidad;const o=await c.post("/api/v1/transaction",s,{headers:{"content-type":"multipart/form-data"}});o.status===200&&(this.results=o.data)},onChange(s){const o=s.target.files[0];this.image=o,this.item.imageUrl=URL.createObjectURL(o)},async handleSubmit(){let s=new FormData;s.append("paymentDetails",this.paymentDetails),s.append("image",this.image),this.paymentDetails,this.file,(await c.post("/api/v1/transaction/details/"+this.results._id,s,{headers:{"content-type":"multipart/form-data"}})).status===200&&alert("\u062A\u0645\u062A \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u0646\u062C\u0627\u062D")}}},m=s=>(R("data-v-7507aaf7"),s=s(),V(),s),T={class:"HomeBuy"},U={class:"ground mt-10 card_ground shadow-md rounded-md md:w-[60%]"},j={id:"tabs",class:"container header_ground"},B={class:"tabs"},A={class:"content"},F={key:0,class:"tabcontent w-full card_ground pt-20 pb-5"},N={class:"container px-4 max-w-screen-md py-16 mx-auto lg:max-w-screen-3xl sm:px-6 lg:px-8 rounded-md card_ground"},H={class:"shadow sm:rounded-md sm:overflow-hidden"},I={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},L={class:"grid grid-cols-1 gap-6"},z={class:"col-span-3 sm:col-span-2"},O={class:"container-one w-full"},q={class:"mt-1 flex rounded-md shadow-sm"},G={class:"inline-flex items-center rounded-md button_ground border border-gray-300 text-gray-900 text-xl py-2 px-2 lg:px-10"},J=["value"],K=["src"],P={class:"container-two flex flex-row-reverse text-gray-900"},Q={key:0,class:"mt-2",id:"baseValue"},W={key:1,class:"mt-2",id:"baseValue"},X={class:"container-there"},Y={class:"mt-1 w-full flex rounded-md shadow-sm"},Z={class:"inline-flex items-center rounded-md border border-gray-300 button_ground text-gray-900 text-xl py-2 px-2 lg:px-10"},$=["value"],ee={key:0,class:"px-5 pt-4 mr-3 flex-1 block w-full text-green-900 rounded-none rounded-r-md text-xl border border-gray-300"},te={key:1,class:"px-5 pt-4 mr-3 flex-1 block w-full text-green-900 rounded-none rounded-r-md text-xl border border-gray-300"},se={key:2,class:"px-5 pt-4 mr-3 flex-1 block w-full text-green-900 rounded-none rounded-r-md text-xl border border-gray-300"},oe={key:3,class:"px-5 pt-4 mr-3 flex-1 block w-full text-green-900 rounded-none rounded-r-md text-xl border border-gray-300"},ne={class:"flex justify-center mt-4"},ae=["disabled"],re=m(()=>e("span",{class:"button_ground p-3 px-10 rounded-md shadow-md text-xl text-gray-800"}," \u0627\u0631\u0633\u0627\u0644 ",-1)),de=[re],ie=["disabled"],le={class:"button_ground p-3 px-10 rounded-md shadow-md text-xl text-gray-800"},ce={key:1,class:"tabcontent w-full card_ground pt-20 pb-5"},ue={class:"container px-4 max-w-screen-md py-16 mx-auto sm:max-w-screen-3xl sm:px-6 lg:px-8 rounded-md card_ground"},me={class:"block ml-auto mr-auto pt-10 w-[90%]"},pe=m(()=>e("label",{class:"sr-only",for:"name"},"\u0627\u0644\u0627\u0633\u0645",-1)),he={class:"block ml-auto mr-auto mt-10 w-[90%]"},ge={class:"flex items-center w-full h-32 px-4 transition bg-white border-2 border-gray-400 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none"},xe={class:"flex items-center space-x-2"},_e=m(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),be={class:"font-medium text-gray-600 px-3"},ve=m(()=>e("div",{class:"flex justify-center mt-4 pb-5"},[e("button",{type:"submit",class:"inline-flex items-center justify-center w-full text-gray-900 rounded-lg sm:w-auto"},[e("span",{class:"button_ground p-3 px-10 rounded-md shadow-md text-xl text-gray-800"}," \u0627\u0631\u0633\u0627\u0644 ")])],-1));function fe(s,o,ye,we,t,i){const y=g("navbar"),w=g("section6");return a(),r("div",T,[x(y),e("section",U,[e("div",j,[e("div",B,[e("a",{onClick:o[0]||(o[0]=n=>t.activetab="1"),class:p([t.activetab==="1"?"active":""])},"Step : 1",2),e("a",{class:p([t.activetab==="2"?"active":""])},"Step : 2",2)]),e("div",A,[t.activetab==="1"?(a(),r("div",F,[e("div",N,[e("div",H,[e("div",I,[e("div",L,[e("div",z,[l(e("p",{class:"bg-red-300 text-gray-900 rounded-md p-3"}," \u062E\u0637\u0623 : "+d(t.message),513),[[u,t.message]]),e("div",O,[e("div",q,[e("span",G,[l(e("select",{onChange:o[1]||(o[1]=n=>i.get_direction()),"onUpdate:modelValue":o[2]||(o[2]=n=>t.from=n),class:"button_ground"},[(a(!0),r(b,null,v(i.formatearMonedas,n=>l((a(),r("option",{class:"button_ground",key:n._id,value:n._id},[e("p",null,d(n.name),1),e("img",{loading:"lazy",alt:"No photo",class:"h-8 object-contain lg:h-10 mt-1",src:`${t.api_url}/${n.logoUrl}`,crossorigin:"true"},null,8,K)],8,J)),[[u,n.isActive===!0]])),128))],544),[[_,t.from]])]),l(e("input",{type:"text","onUpdate:modelValue":o[3]||(o[3]=n=>t.cantidad=n),min:"",max:"10",placeholder:"\u0627\u062F\u062E\u0644 \u0642\u064A\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0629 \u0627\u0644\u0645\u062D\u062F\u062F\u0629",class:"px-5 mr-3 focus:ring-indigo-500 focus:border-indigo-500 flex-1 block w-full rounded-none rounded-r-md text-xl text-green-900 border border-gray-300 placeholder:text-gray-500"},null,512),[[f,t.cantidad]])])]),e("div",P,[t.results<=0?(a(),r("h4",Q," \u0627\u0644\u0646\u0633\u0628\u0629 = 0 ")):(a(),r("h4",W," rate = 1 "+d(t.fromText)+" = "+d(this.results.exchangeRate.receive/this.results.exchangeRate.send)+" "+d(t.toText),1))]),e("div",X,[e("div",Y,[e("span",Z,[l(e("select",{onChange:o[4]||(o[4]=n=>i.get_direction()),"onUpdate:modelValue":o[5]||(o[5]=n=>t.to=n),class:"button_ground"},[(a(!0),r(b,null,v(i.formatearMonedas,n=>l((a(),r("option",{class:"button_ground",key:n._id,value:n._id},d(n.name),9,$)),[[u,n.isActive===!0]])),128))],544),[[_,t.to]])]),+t.cantidad>=+t.results.minExchange&&+t.cantidad<=+t.results.maxExchange?(a(),r("div",ee,d(i.calcularResultado),1)):+t.cantidad==0?(a(),r("div",te,d("0"))):+t.cantidad>=+t.results.maxExchange?(a(),r("div",se,d("\u0627\u0644\u0642\u064A\u0645\u0629 \u0639\u0627\u0644\u064A\u0629"))):+t.cantidad<=+t.results.minExchange?(a(),r("div",oe,d("\u0627\u0644\u0642\u064A\u0645\u0629 \u0645\u0646\u062E\u0641\u0638\u0629"))):h("",!0)])]),e("div",ne,[+t.cantidad>=+t.results.minExchange&&+t.cantidad<=+t.results.maxExchange?(a(),r("button",{key:0,disabled:s.dashabilitado,onClick:[o[6]||(o[6]=n=>i.amountSubmit()),o[7]||(o[7]=n=>t.activetab="2")],type:"button",class:p([[t.activetab==="2"?"active":""],"p-3 px-10"])},de,10,ae)):(a(),r("button",{key:1,disabled:s.dashabilitado,onClick:o[8]||(o[8]=n=>i.amountSubmit()),type:"button",class:"p-3 px-10"},[e("span",le," \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062D\u062F\u062F \u0645\u0646 "+d(t.results.minExchange)+" \u0627\u0644\u0649 "+d(t.results.maxExchange),1)],8,ie))])])])])])])])):h("",!0),t.activetab==="2"?(a(),r("div",ce,[e("div",ue,[e("form",{onSubmit:o[11]||(o[11]=M((...n)=>i.handleSubmit&&i.handleSubmit(...n),["prevent"])),class:"space-y-4 bg-white rounded-md shadow-md px-10"},[l(e("p",{class:"bg-red-300 text-gray-900 rounded-md p-3"},"\u062E\u0637\u0623 : "+d(t.message),513),[[u,t.message]]),e("div",me,[e("div",null,[pe,l(e("input",{"onUpdate:modelValue":o[9]||(o[9]=n=>t.paymentDetails=n),placeholder:"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062F\u0641\u0639",type:"text",id:"name",class:"px-5 py-3 focus:ring-indigo-500 focus:border-indigo-500 w-full rounded-none rounded-r-md text-md text-green-900 border-2 border-gray-400 placeholder:text-gray-500 text-md"},null,512),[[f,t.paymentDetails]])])]),e("div",he,[e("label",ge,[e("span",xe,[_e,e("span",be,[D(" \u0635\u0648\u0631\u0629 \u0627\u0644\u0633\u0646\u062F \u0627\u0644\u062E\u0627\u0635 \u0628\u0627\u0644\u0627\u064A\u062F\u0627\u0639 "),e("input",{type:"file",accept:"image/*",onChange:o[10]||(o[10]=(...n)=>i.onChange&&i.onChange(...n))},null,32)])])])]),ve],32)])])):h("",!0)])])]),x(w)])}const Se=k(E,[["render",fe],["__scopeId","data-v-7507aaf7"]]);export{Se as default};
